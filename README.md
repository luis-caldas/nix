# My NIX

This project aims to be a faster configuration system for nixos, based on my preferences

# Understanding it

## Creating a specific system configuration

The system specific configurations are stored inside the `config/` folder

Each system has its own subfolder with the files `config.json` and `hardware.nix` inside it

More complex configurations can be achieved with linking more `.nix` files to your `hardware.nix` file

### `hardware.nix`

This file is generated by the nixos `nixos-generate-config` utility and simply copied over to the system specific folder

### `config.json`

A dumbed down and faster way to do small changes between systems while maintaining my overall configuration untouched

The `default.json` file inside the `config/` folder contains all the possible entries for configuration, the `config.json` uses the same keys as the `deafult.json` file, so different systems may have slightly different configurations

The `check.py` file inside the `config/` folder is a python script used to check mismatches and redundancy between `default.json` and `config.json` files

# Other folders and files

## `common`

These are the common configurations between all my systems

They are separated between `system` and `user` and makes use of the configuration keys set in the `config.json`

### `system`

Common configuration files for the whole system

### `user`

Common user configuration files, also has its files separated between the `home-manager` files and normal files

## `functions`

The files inside this folder are **nix** functions used throughout the project

## `pkgs`

My own collection of packages, made in the same format as `nixpkgs`

## `iso`

This folder contains files used to create a bootable nixos iso (made with my configurations)

This ISO will use the `iso` configuration scheme found in the `config` folder at the root directory

There is a bash script also with the proper command to generate the iso

## `linker.nix`

This file links all the projects file into a single point, so it can be easily referenced later

## `config.nix`

This file imports all configurations to the linker

## `system.skeleton`

Reference file set as an example for the `system` file

# Finally building it

A file named `system` in the root of the project is needed in order to select the system that is going to be built, it is a simple plain text file with the systems name inside

For the commands `nixos-rebuild` or `nixos-install` to work the file `linker.nix` must be imported from your `/etc/nixos/configuration.nix` file
